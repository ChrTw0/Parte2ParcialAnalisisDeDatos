<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor de Tarifarios Bancarios</title>
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>

    <!-- Header -->
    <header class="bg-dark text-white p-3">
        <div class="container-fluid">
            <h3><i class="bi bi-file-earmark-spreadsheet-fill"></i> Visor de Tarifarios Bancarios</h3>
        </div>
    </header>

    <div class="d-flex">
        <!-- Sidebar -->
        <nav id="sidebar" class="bg-light border-end p-3">
            <h4><i class="bi bi-funnel-fill"></i> Filtros</h4>
            <hr>
            <div class="mb-3">
                <label for="banco-filter" class="form-label">Banco</label>
                <select id="banco-filter" class="form-select"></select>
            </div>
            <div class="mb-3">
                <label for="tipo-filter" class="form-label">Tipo</label>
                <select id="tipo-filter" class="form-select"></select>
            </div>
            <div class="mb-3">
                <label for="moneda-filter" class="form-label">Moneda</label>
                <select id="moneda-filter" class="form-select"></select>
            </div>
            <div class="mb-3">
                <label class="form-label">Tasa % (MN)</label>
                <div class="row">
                    <div class="col">
                        <input type="number" id="tasa-mn-min" class="form-control" placeholder="Min">
                    </div>
                    <div class="col">
                        <input type="number" id="tasa-mn-max" class="form-control" placeholder="Max">
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label class="form-label">Tasa % (ME)</label>
                <div class="row">
                    <div class="col">
                        <input type="number" id="tasa-me-min" class="form-control" placeholder="Min">
                    </div>
                    <div class="col">
                        <input type="number" id="tasa-me-max" class="form-control" placeholder="Max">
                    </div>
                </div>
            </div>
            <div class="mb-3">
                <label for="producto-search" class="form-label">Producto</label>
                <input type="text" id="producto-search" class="form-control" placeholder="Buscar por producto...">
            </div>
            <div class="mb-3">
                <label for="concepto-search" class="form-label">Concepto</label>
                <input type="text" id="concepto-search" class="form-control" placeholder="Buscar por concepto...">
            </div>
            <div class="d-grid gap-2">
                <button id="apply-filters-btn" class="btn btn-primary">Aplicar Filtros</button>
                <button id="reset-filters-btn" class="btn btn-secondary">Limpiar Filtros</button>
                <button id="export-csv-btn" class="btn btn-outline-success mt-2">Exportar a CSV</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main id="main-content" class="p-4 flex-grow-1">
            <!-- Stats Cards -->
            <section id="stats-cards" class="row mb-4"></section>

            <!-- Data Table -->
            <section id="data-section">
                <div class="card">
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-striped table-hover">
                                <thead>
                                    <tr id="data-table-head"></tr>
                                </thead>
                                <tbody id="data-table-body"></tbody>
                            </table>
                        </div>
                        <!-- Pagination -->
                        <nav id="pagination-controls" aria-label="Navegación de páginas"></nav>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Details Modal -->
    <div class="modal fade" id="details-modal" tabindex="-1" aria-labelledby="detailsModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="details-modal-title">Detalles del Item</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="details-modal-body">
                    <!-- Content will be injected by JavaScript -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Comparison Modal -->
    <div class="modal fade" id="comparison-modal" tabindex="-1" aria-labelledby="comparisonModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="comparisonModalLabel">Comparación de Productos</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="comparison-modal-body">
                    <!-- Comparison table will be injected here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Floating Compare Button -->
    <div id="compare-button-container" class="position-fixed bottom-0 end-0 p-3" style="display: none;">
        <button id="compare-btn" class="btn btn-lg btn-success" data-bs-toggle="modal" data-bs-target="#comparison-modal">
            Comparar (0)
        </button>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="/static/js/main.js"></script>
</body>
</html>
